{% extends "base.html" %}

{% block title %}Daily Summary Report{% endblock %}

{% block content %}
<div class="report-block">
  <form method="get" action="">
    <!-- Hidden input to preserve the report parameter -->
    <input type="hidden" name="report" value="Daily Summary">
    <label for="start_date">Start Date:</label>
    <input type="date" id="start_date" name="start_date" value="{{ start_date|default:start_date_default|date:'Y-m-d' }}" required>
    <label for="end_date">End Date:</label>
    <input type="date" id="end_date" name="end_date" value="{{ end_date|default:end_date_default|date:'Y-m-d' }}" required>
    <button type="submit">Apply Filters</button>
  </form>
  <h4>Transaction Summary Report</h4>
  <table border="1" style="table-layout: fixed; width: 100%; border-collapse: collapse;">
    <thead>
      <tr>
        <th>Date</th>
        <th>Day</th>
        <th colspan="3">Total Form Depo</th>
        <th colspan="3">Total Coin Depo</th>
        <th colspan="3">Total Form WD</th>
        <th colspan="3">Total Coin WD</th>
        <th colspan="4">Other Index</th>
      </tr>
      <tr>
        <th></th>
        <th></th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Trx</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Manual</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Total</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Depo</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Manual</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Total Depo</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Trx</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Manual</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Total</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">WD</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Manual</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Total WD</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">No of Player</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">New Member</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">New Member Deposited</th>
        <th style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">Old Player</th>
      </tr>
    </thead>
    <tbody>
      {% for data in members %}
      <tr>
        <td>{{ data.date }}</td>
        <td>{{ data.day }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.depo_trx }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.manual_trx }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.total_trx }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.depo_value|floatformat:2 }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.manual_value|floatformat:2 }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.total_value|floatformat:2 }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.wd_trx }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.manual_wd_trx }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.total_wd }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.wd_value|floatformat:2 }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.manual_wd_value|floatformat:2 }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.total_wd_value|floatformat:2 }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.active_players }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.new_member }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.new_member_deposited }}</td>
        <td style="width: 10ch; max-width: 10ch; word-wrap: break-word; white-space: normal; text-align: center; padding: 2px;">{{ data.old_player }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}